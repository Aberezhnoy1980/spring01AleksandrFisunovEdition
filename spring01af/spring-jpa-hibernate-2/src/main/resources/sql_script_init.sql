BEGIN;

DROP TABLE IF EXISTS `products` CASCADE;
CREATE TABLE `products`
(
    `id`    SERIAL PRIMARY KEY,
    `title` VARCHAR(255)            NOT NULL UNIQUE,
    `price` DECIMAL(10, 2) UNSIGNED NOT NULL
);

DROP TABLE IF EXISTS `customers` CASCADE;
CREATE TABLE `customers`
(
    `id`   SERIAL PRIMARY KEY,
    `name` VARCHAR(255) NOT NULL
);

DROP TABLE IF EXISTS `orders` CASCADE;
CREATE TABLE `orders`
(
    `id`          SERIAL PRIMARY KEY,
    `product_id`  BIGINT UNSIGNED         NOT NULL,
    `customer_id` BIGINT UNSIGNED         NOT NULL,
    `price`       DECIMAL(10, 2) UNSIGNED NOT NULL,
    `quantity`    INTEGER UNSIGNED NOT NULL,
    `date`        DATETIME,
    FOREIGN KEY (`product_id`) REFERENCES `products` (`id`),
    FOREIGN KEY (`customer_id`) REFERENCES `customers` (`id`)
);

INSERT INTO `products` (`title`, `price`)
VALUES ('Milk', 86.30),
       ('Bread', 27.90),
       ('Cheese', 184.50),
       ('Sausages', 285.60),
       ('Eggs', 180.90),
       ('Fish', 400.00),
       ('Meat', 358.40);

INSERT INTO `customers` (`name`)
VALUES ('Bob'),
       ('John'),
       ('Bill'),
       ('Jack'),
       ('Alex'),
       ('Max'),
       ('KakoytaMuzhik');

INSERT INTO `orders` (`product_id`, `customer_id`, `price`, `quantity`, `date`)
VALUES (1, 1, 86.30, 2, '2022-10-02 09:00:00'),
       (1, 3, 184.50, 3, '2022-10-05 19:00:00'),
       (1, 5, 180.90, 5, '2022-10-09 10:00:00'),
       (1, 7, 358.40, 1, '2022-10-05 11:05:00'),
       (2, 2, 27.90, 7, '2022-10-11 22:00:00'),
       (2, 4, 285.60, 8, '2022-10-02 12:00:00'),
       (2, 6, 400.00, 3, '2022-10-15 08:30:00'),
       (3, 3, 184.50, 12, '2022-10-19 21:40:00'),
       (3, 5, 180.90, 5, '2022-10-09 12:00:00'),
       (3, 7, 358.4, 4, '2022-10-23 11:00:00'),
       (4, 4, 285.60, 7, '2022-10-05 08:00:00'),
       (4, 6, 400.00, 21, '2022-10-27 08:00:00'),
       (5, 1, 86.30, 1, '2022-10-15 11:30:00'),
       (5, 3, 184.50, 2, '2022-10-05 12:30:00'),
       (5, 5, 180.90, 3, '2022-10-27 09:00:00'),
       (5, 7, 358.40, 5, '2022-10-19 11:30:00'),
       (6, 2, 27.90, 9, '2022-10-09 18:00:00'),
       (6, 4, 285.60, 4, '2022-10-23 21:00:00'),
       (6, 6, 400.00, 9, '2022-10-30 09:00:00'),
       (7, 3, 184.50, 2, '2022-10-02 10:00:00'),
       (7, 5, 180.90, 12, '2022-10-27 14:40:00'),
       (7, 7, 358.4, 11, '2022-10-23 14:30:00'),
       (1, 1, 186.30, 7, '2022-10-15 18:50:00'),
       (1, 3, 1184.50, 9, '2022-10-19 15:10:00'),
       (1, 5, 1180.90, 5, '2022-10-11 20:30:00'),
       (1, 7, 1358.40, 8, '2022-10-30 11:00:00'),
       (2, 2, 127.90, 3, '2022-10-23 17:00:00'),
       (2, 4, 1285.60, 9, '2022-10-02 09:40:00'),
       (2, 6, 1400.00, 4, '2022-10-27 20:30:00'),
       (3, 3, 1184.50, 2, '2022-10-15 16:40:00'),
       (3, 5, 1180.90, 7, '2022-10-30 12:00:00'),
       (3, 7, 1358.4, 1, '2022-10-11 12:20:00'),
       (4, 4, 1285.60, 9, '2022-10-30 15:50:00'),
       (4, 6, 1400.00, 3, '2022-10-05 21:00:00'),
       (5, 1, 186.30, 2, '2022-10-23 22:00:00'),
       (5, 3, 1184.50, 5, '2022-10-27 11:00:00'),
       (5, 5, 1180.90, 7, '2022-10-11 15:00:00'),
       (5, 7, 1358.40, 2, '2022-10-30 22:00:00'),
       (6, 2, 127.90, 12, '2022-10-09 21:30:00'),
       (6, 4, 1285.60, 9, '2022-10-30 23:15:00'),
       (6, 6, 1400.00, 3, '2022-10-19 17:35:00'),
       (7, 3, 1184.50, 6, '2022-10-02 09:30:00'),
       (7, 5, 1180.90, 6, '2022-10-23 23:00:00'),
       (7, 7, 1358.4, 5, '2022-10-27 16:40:00');

COMMIT;